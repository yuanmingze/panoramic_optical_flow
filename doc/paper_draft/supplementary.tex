\documentclass{bmvc2k}

%% Faster LaTeX compilation time, bigger file.
%% TODO: Comment out for submission/final version.
\pdfcompresslevel=0
\pdfobjcompresslevel=0

%% Enter your paper number here for the review copy
\bmvcreviewcopy{298}

%\title{Panoramic Optical Flow Using Global Rotation Warping and Tangent Image}
\title{Supplementary Material \\
360\!° Optical Flow using Tangent Images}

% Enter the paper's authors in order
% \addauthor{Name}{email/homepage}{INSTITUTION_CODE}
\addauthor{Mingze Yuan}{https://yuanmingze.github.io/}{1}
\addauthor{Christian Richardt}{https://richardt.name}{1}
%\addauthor{Colin Collaborator}{colin@collaborators.com}{2}

% Enter the institutions
% \addinstitution{Name\\Address}
\addinstitution{
	University of Bath\\
	Bath, UK
}
%\addinstitution{
% Collaborators, Inc.\\
% 123 Park Avenue,\\
% New York, USA
%}

\runninghead{Yuan and Richardt}{360° Optical Flow using Tangent Images}

% Any macro definitions you would like to include
% These are not defined in the style file, because they don't begin
% with \bmva, so they might conflict with the user's own macros.
% The \bmvaOneDot macro adds a full stop unless there is one in the
% text already.
%\def\eg{\emph{e.g}\bmvaOneDot}
%\def\Eg{\emph{E.g}\bmvaOneDot}
%\def\etal{\emph{et al}\bmvaOneDot}

\usepackage{xcolor}
%\definecolor{skyblue}{rgb}{0.2,0.6,0.9}
%\newcommand{\placeholder}[1]{\textcolor{skyblue}{\rule{\linewidth}{#1}}}
\newcommand{\TODO}[1]{\textcolor{red}{{[TODO: #1]}}}
%\newcommand\todolist[1]{\textcolor{red}{#1}}
%\newcommand{\IGNORE}[1]{}
%\newcommand{\new}[1]{\textcolor{orange}{#1}}
%\newcommand\MZY[1]{\textcolor{green}{{[Mingze: #1]}}}
%\newcommand{\CR}[1]{\textcolor{cyan}{{[Christian: #1]}}}

\usepackage{microtype}
%\usepackage{amsfonts}
%\usepackage{amsmath}
%\usepackage{amssymb}
\usepackage{enumitem}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{tikz,siunitx,mwe}
%\usepackage{url}
\usepackage{doi}
\usepackage[nameinlink,capitalise,noabbrev]{cleveref}
\crefformat{equation}{#2Equation~#1#3}
\frenchspacing

\newcommand{\labeledfig}[4]{
	\begin{tikzpicture}
		\draw node[name=micrograph] {\includegraphics[width=#2\textwidth]{#1}}; %the image
		\draw (micrograph.north west)  node[anchor=north west,yshift=-2,#4]{\textbf{\tiny{#3}}}; %image label
	\end{tikzpicture}
}

%-------------------------------------------------------------------------
% Document starts here
\begin{document}

\maketitle

%\section{Padding}
%
%\TODO{A diagram show the padding size with HFov and VFoV. The FoV transformation code from InstaDepthMap.}
%
%\TODO{How to do padding? How to compute the padding size?}


%\section{Blending Weight}
%
%\TODO{How to compute the blending weight?}
%
%\TODO{Heatmap show the blending weight.}


\section{Ablation Study}
\label{sec:sup:ablations}


\paragraph{Padding Size.}

The tangent image padding extent the field of view  (See paper Section 3.2), so that the source image can find more corresponding on the target image to improve optical flow consistency.
But more padding is less angular resolution the same tangent image resolution.
%
%Which is the best padding ratio to balance the ??, the 
We test padding size from 0.0 to 0.6, the result shown in the \cref{fig:sup:ablationpadding}.
The more padding get lower SEPE, when padding size is 0.45 it get best ballance between 


\begin{figure*}[hbt!]
	\centering
	\includegraphics[width=0.80\textwidth]{images/abla_padding.pdf}
	\caption{\label{fig:sup:ablationpadding}%
		The SEPE with padding size from 0 to 0.6.}
\end{figure*}


\section{Result}

There are more result of quantitative and qualitative evaluation.

\paragraph{Quantitative Evaluation.}

In \cref{fig:sup:compflowcircle} and \cref{fig:sup:compflowline}, there is more SEPE heatmap between the ground truth optical flow and our method result on Replica 360° data.

\begin{figure*}[h!]
	\centering
	\begin{tabular}{@{}c*{5}{@{\hspace{-9pt}}c}@{}}
		\multicolumn{5}{l}{\footnotesize{\emph{Circle}:\emph{apartment\_0}}}
		\\[-0.6em]
		\labeledfig{images/of_error/apartment_0_circ_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/apartment_0_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/apartment_0_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/apartment_0_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/apartment_0_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/apartment_0_circ_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/apartment_0_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_0_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_0_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_0_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Circle}:\emph{apartment\_1}}}
		\\[-0.6em]
		\labeledfig{images/of_error/apartment_1_circ_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/apartment_1_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/apartment_1_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/apartment_1_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/apartment_1_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/apartment_1_circ_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/apartment_1_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_1_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_1_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_1_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Circle}:\emph{frl\_apartment\_1}}}
		\\[-0.6em]
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Circle}:\emph{hotel\_0}}}
		\\[-0.6em]
		\labeledfig{images/of_error/hotel_0_circ_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/hotel_0_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/hotel_0_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/hotel_0_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/hotel_0_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/hotel_0_circ_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/hotel_0_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/hotel_0_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/hotel_0_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/hotel_0_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Circle}:\emph{office\_1}}}
		\\[-0.6em]
		\labeledfig{images/of_error/office_1_circ_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/office_1_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/office_1_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/office_1_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/office_1_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/office_1_circ_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/office_1_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/office_1_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/office_1_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/office_1_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Circle}:\emph{room\_0}}}
		\\[-0.6em]
		\labeledfig{images/of_error/room_0_circ_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/room_0_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/room_0_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/room_0_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/room_0_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/room_0_circ_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/room_0_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/room_0_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/room_0_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/room_0_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Circle}:\emph{room\_1}}}
		\\[-0.6em]
		\labeledfig{images/of_error/room_1_circ_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/room_1_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/room_1_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/room_1_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/room_1_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/room_1_circ_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/room_1_circ_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/room_1_circ_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/room_1_circ_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/room_1_circ_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
\end{tabular}
\caption{\label{fig:sup:compflowcircle}%
	Estimated 360° optical flow and error heatmaps on the Replica 360° dataset, \emph{Circle}.}
\end{figure*}


\begin{figure*}[hbt!]
	\centering
	\begin{tabular}{@{}c*{5}{@{\hspace{-9pt}}c}@{}}
		\\[-0.5em]
		\multicolumn{5}{l}{\footnotesize{\emph{Line}:\emph{apartment\_0}}}
		\\[-0.5em]
		\labeledfig{images/of_error/apartment_0_line_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/apartment_0_line_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/apartment_0_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/apartment_0_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/apartment_0_line_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/apartment_0_line_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/apartment_0_line_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_0_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_0_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_0_line_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Line}:\emph{apartment\_1}}}
		\\[-0.5em]
		\labeledfig{images/of_error/apartment_1_line_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/apartment_1_line_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/apartment_1_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/apartment_1_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/apartment_1_line_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/apartment_1_line_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/apartment_1_line_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_1_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_1_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/apartment_1_line_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Line}:\emph{frl\_apartment\_1}}}
		\\[-0.6em]
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/frl_apartment_0_line_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Line}:\emph{hotel\_0}}}
		\\[-0.6em]
		\labeledfig{images/of_error/hotel_0_line_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/hotel_0_line_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/hotel_0_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/hotel_0_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/hotel_0_line_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/hotel_0_line_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/hotel_0_line_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/hotel_0_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/hotel_0_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/hotel_0_line_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Line}:\emph{office\_1}}}
		\\[-0.6em]
		\labeledfig{images/of_error/office_1_line_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/office_1_line_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/office_1_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/office_1_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/office_1_line_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/office_1_line_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/office_1_line_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/office_1_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/office_1_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/office_1_line_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Line}:\emph{room\_0}}}
		\\[-0.6em]
		\labeledfig{images/of_error/room_0_line_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/room_0_line_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/room_0_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/room_0_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/room_0_line_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/room_0_line_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/room_0_line_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/room_0_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/room_0_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/room_0_line_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
		\\[-0.6em]
		\multicolumn{5}{l}{\footnotesize{\emph{Line}:\emph{room\_1}}}
		\\[-0.6em]
		\labeledfig{images/of_error/room_1_line_1k_0_0004_rgb_pano.jpg}{0.185}{(a) $I_t$}{white} &
		\labeledfig{images/of_error/room_1_line_1k_0_dis_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) $DIS$}{black} &
		\labeledfig{images/of_error/room_1_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) $Our$}{black} &
		\labeledfig{images/of_error/room_1_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) $PWCNet$}{black} &
		\labeledfig{images/of_error/room_1_line_1k_0_raft_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) $RAFT$}{black}
		\\[-1.0em]
		\labeledfig{images/of_error/room_1_line_1k_0_gt_0004_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(f) GT}{black} &
		\labeledfig{images/of_error/room_1_line_1k_0_dis_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(g) $DIS\_SEPE$}{black} &
		\labeledfig{images/of_error/room_1_line_1k_0_our_weight_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(h) $Our\_SEPE$}{black} &
		\labeledfig{images/of_error/room_1_line_1k_0_pwcnet_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(i) $PWCNet\_SEPE$}{black} &
		\labeledfig{images/of_error/room_1_line_1k_0_raft_0004_opticalflow_backward_pano.flo_error_vis.jpg}{0.185}{(j) $RAFT\_SEPE$}{black}
\end{tabular}
\caption{\label{fig:sup:compflowline}%
	Estimated 360° optical flow and error heatmaps on the Replica 360° dataset, \emph{Line}.}
\end{figure*}


\paragraph{Qualitative Evaluation.}

We measure the interpolation error \cite{BakerSLRBS2011}, i.e. the RGB colour difference between the source image and backward-warped target image.
%
In \cref{fig:sup:backwardwarp}, there are more interpolation error heatmap on OmniPhotos dataset \cite{BerteYLR2020}.

\begin{figure*}[hbt!]
	\centering
	\begin{tabular}{@{}c*{5}{@{\hspace{-9pt}}c}@{}}
		\\[-0.8em]
		\multicolumn{5}{l}{\footnotesize{\emph{Ballintoy}}}
		\\[-0.6em]
		\labeledfig{images/of_warp/Ballintoy_panoramic-0255.jpg}{0.185}{(a) $I_t$}{black} &
		\labeledfig{images/of_warp/Ballintoy_dis_0255_opticalflow_forward_pano.flo_flow_vis.jpg}{0.185}{(b) DIS}{black} &
		\labeledfig{images/of_warp/Ballintoy_our_weight_0255_opticalflow_forward_pano.flo_flow_vis.jpg}{0.185}{(c) Ours}{black} &
		\labeledfig{images/of_warp/Ballintoy_pwcnet_0255_opticalflow_forward_pano.flo_flow_vis.jpg}{0.185}{(d) PWC-Net}{black} &
		\labeledfig{images/of_warp/Ballintoy_raft_0255_opticalflow_forward_pano.flo_flow_vis.jpg}{0.185}{(e) RAFT}{black}
		\\[-1.0em]
		\labeledfig{images/of_warp/Ballintoy_panoramic-0256.jpg}{0.185}{(f) $I_{t+1}$}{black} &
		\labeledfig{images/of_warp/Ballintoy_dis_0255_opticalflow_forward_pano.flo_wrap.jpg}{0.185}{(k) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/Ballintoy_our_weight_0255_opticalflow_forward_pano.flo_wrap.jpg}{0.185}{(l) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/Ballintoy_pwcnet_0255_opticalflow_forward_pano.flo_wrap.jpg}{0.185}{(m) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/Ballintoy_raft_0255_opticalflow_forward_pano.flo_wrap.jpg}{0.185}{(n) RAFT (Warp)}{black}
		\\[-1.0em]
		&
		\labeledfig{images/of_warp/Ballintoy_dis_0255_opticalflow_forward_pano.flo_warp_error_vis.jpg}{0.185}{(g) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/Ballintoy_our_weight_0255_opticalflow_forward_pano.flo_warp_error_vis.jpg}{0.185}{(h) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/Ballintoy_pwcnet_0255_opticalflow_forward_pano.flo_warp_error_vis.jpg}{0.185}{(i) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/Ballintoy_raft_0255_opticalflow_forward_pano.flo_warp_error_vis.jpg}{0.185}{(j) RAFT (Warp)}{black}
		\\[-0.8em]
		\multicolumn{5}{l}{\footnotesize{\emph{DublinShip1}}}
		\\[-0.6em]
		\labeledfig{images/of_warp/DublinShip1_panoramic-0547.jpg}{0.185}{(a) $I_t$}{black} &
		\labeledfig{images/of_warp/DublinShip1_dis_0547_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) DIS}{black} &
		\labeledfig{images/of_warp/DublinShip1_our_weight_0547_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) Ours}{black} &
		\labeledfig{images/of_warp/DublinShip1_pwcnet_0547_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) PWC-Net}{black} &
		\labeledfig{images/of_warp/DublinShip1_raft_0547_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) RAFT}{black}
		\\[-1.0em]
		\labeledfig{images/of_warp/DublinShip1_panoramic-0548.jpg}{0.185}{(f) $I_{t+1}$}{black} &
		\labeledfig{images/of_warp/DublinShip1_dis_0547_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(k) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/DublinShip1_our_weight_0547_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(l) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/DublinShip1_pwcnet_0547_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(m) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/DublinShip1_raft_0547_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(n) RAFT (Warp)}{black}
		\\[-1.0em]
		&
		\labeledfig{images/of_warp/DublinShip1_dis_0547_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(g) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/DublinShip1_our_weight_0547_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(h) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/DublinShip1_pwcnet_0547_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(i) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/DublinShip1_raft_0547_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(j) RAFT (Warp)}{black}
		\\[-0.8em]
		\multicolumn{5}{l}{\footnotesize{\emph{OsakaTemple6}}}
		\\[-0.6em]
		\labeledfig{images/of_warp/OsakaTemple6_panoramic-0365.jpg}{0.185}{(a) $I_t$}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_dis_0365_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) DIS}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_our_weight_0365_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) Ours}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_pwcnet_0365_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) PWC-Net}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_raft_0365_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) RAFT}{black}
		\\[-1.0em]
		\labeledfig{images/of_warp/OsakaTemple6_panoramic-0366.jpg}{0.185}{(f) $I_{t+1}$}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_dis_0365_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(k) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_our_weight_0365_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(l) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_pwcnet_0365_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(m) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_raft_0365_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(n) RAFT (Warp)}{black}
		\\[-1.0em]
		&
		\labeledfig{images/of_warp/OsakaTemple6_dis_0365_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(g) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_our_weight_0365_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(h) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_pwcnet_0365_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(i) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/OsakaTemple6_raft_0365_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(j) RAFT (Warp)}{black}
		\\[-0.8em]
		\multicolumn{5}{l}{\footnotesize{\emph{SecretGarden1}}}
		\\[-0.6em]
		\labeledfig{images/of_warp/SecretGarden1_panoramic-0530.jpg}{0.185}{(a) $I_t$}{black} &
		\labeledfig{images/of_warp/SecretGarden1_dis_0531_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(b) DIS}{black} &
		\labeledfig{images/of_warp/SecretGarden1_our_weight_0531_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(c) Ours}{black} &
		\labeledfig{images/of_warp/SecretGarden1_pwcnet_0531_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(d) PWC-Net}{black} &
		\labeledfig{images/of_warp/SecretGarden1_raft_0531_opticalflow_backward_pano.flo_flow_vis.jpg}{0.185}{(e) RAFT}{black}
		\\[-1.0em]
		\labeledfig{images/of_warp/SecretGarden1_panoramic-0531.jpg}{0.185}{(f) $I_{t+1}$}{black} &
		\labeledfig{images/of_warp/SecretGarden1_dis_0531_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(k) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/SecretGarden1_our_weight_0531_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(l) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/SecretGarden1_pwcnet_0531_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(m) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/SecretGarden1_raft_0531_opticalflow_backward_pano.flo_wrap.jpg}{0.185}{(n) RAFT (Warp)}{black}
		\\[-1.0em]
		&
		\labeledfig{images/of_warp/SecretGarden1_dis_0531_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(g) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/SecretGarden1_our_weight_0531_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(h) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/SecretGarden1_pwcnet_0531_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(i) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/SecretGarden1_raft_0531_opticalflow_backward_pano.flo_warp_error_vis.jpg}{0.185}{(j) RAFT (Warp)}{black}
		\\[-0.8em]
		\multicolumn{5}{l}{\footnotesize{\emph{Wulongting}}}
		\\[-0.6em]
		\labeledfig{images/of_warp/Wulongting_panoramic-0696.jpg}{0.185}{(a) $I_t$}{black} &
		\labeledfig{images/of_warp/Wulongting_dis_0696_opticalflow_forward_pano.flo_flow_vis.jpg}{0.185}{(b) DIS}{black} &
		\labeledfig{images/of_warp/Wulongting_our_weight_0696_opticalflow_forward_pano.flo_flow_vis.jpg}{0.185}{(c) Ours}{black} &
		\labeledfig{images/of_warp/Wulongting_pwcnet_0696_opticalflow_forward_pano.flo_flow_vis.jpg}{0.185}{(d) PWC-Net}{black} &
		\labeledfig{images/of_warp/Wulongting_raft_0696_opticalflow_forward_pano.flo_flow_vis.jpg}{0.185}{(e) RAFT}{black}
		\\[-1.0em]
		\labeledfig{images/of_warp/Wulongting_panoramic-0697.jpg}{0.185}{(f) $I_{t+1}$}{black} &
		\labeledfig{images/of_warp/Wulongting_dis_0696_opticalflow_forward_pano.flo_wrap.jpg}{0.185}{(k) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/Wulongting_our_weight_0696_opticalflow_forward_pano.flo_wrap.jpg}{0.185}{(l) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/Wulongting_pwcnet_0696_opticalflow_forward_pano.flo_wrap.jpg}{0.185}{(m) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/Wulongting_raft_0696_opticalflow_forward_pano.flo_wrap.jpg}{0.185}{(n) RAFT (Warp)}{black}
		\\[-1.0em]
		&
		\labeledfig{images/of_warp/Wulongting_dis_0696_opticalflow_forward_pano.flo_warp_error_vis.jpg}{0.185}{(g) DIS (Warp)}{black} &
		\labeledfig{images/of_warp/Wulongting_our_weight_0696_opticalflow_forward_pano.flo_warp_error_vis.jpg}{0.185}{(h) Ours (Warp)}{black} &
		\labeledfig{images/of_warp/Wulongting_pwcnet_0696_opticalflow_forward_pano.flo_warp_error_vis.jpg}{0.185}{(i) PWC-Net (Warp)}{black} &
		\labeledfig{images/of_warp/Wulongting_raft_0696_opticalflow_forward_pano.flo_warp_error_vis.jpg}{0.185}{(j) RAFT (Warp)}{black}
	\end{tabular}
	\caption{\label{fig:sup:backwardwarp}%
		Backward warping results on OmniPhotos' dataset.}
\end{figure*}


%\section{Coordinate Transformation}
%
%\TODO{The equations and diagram of coordinate system transformation.}
%
%\paragraph{Gnomonic Normalized Coordinate System}
%
%\paragraph{Gnomonic Pixel Coordiante System}

\clearpage
\bibliography{360flow}

\end{document}
