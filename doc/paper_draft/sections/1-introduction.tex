\section{Introduction}
\label{sec:intro}

%% 360 camera booming 
%The commercial panoramic camera is popular such as GoPro, Insta360, etc.
Commercial 360° video cameras have recently grown in popularity.
Companies such as GoPro, Insta360, Ricoh, and many others, are now offering affordable consumer 360° video cameras.
%
%% 360 video media editing and distribution booming 
%360 video editing, distribution and display:
%editing: Davinci Resolve, Adobe Premiere Pro, etc.
%distribution: youtube VR https://vr.youtube.com/, Facebook360 https://facebook360.fb.com/
%display: VR Headset: Oculus, VLC, almost video player.
At the same time, support for 360° videos has been added across the content creation and consumption pipeline, including video editing software, such as DaVinci Resolve and Adobe Premiere Pro,
video distribution channels such as YouTube, Facebook and Vimeo,
video players like VLC, and virtually all current VR headsets.


%% optical flow is crucial for 360 image editing, 
%360 method a lot, IBR, detection, ..... \cite{BerteYLR2020, }, in which the optical flow is crucial information (input).
Optical flow is a crucial component for processing and editing 360° images and videos as it provides correspondences over time.
Among other things, this enables 360° video stabilisation \cite{Kopf2016}, depth estimation \cite{ZioulKZAD2019}, and novel-view synthesis \cite{BerteYLR2020}.
%
%% problem
%ERP is part of the omnidirectional media format (OMAF) stander. \cite{HannuWH2019}, and common format of 360 images.
%There is huge distortion at the top and bottom of the Equirectangular images, which is generated by the coordinate system mapping relationship, from the Spherical to the Cartesian coordinate system.
However, the most common format of 360° images, equirectangular projection (ERP), suffers from severe distortions when mapping a spherical 360° image to the 2D image plane.
This distortion is not considered by most existing optical flow algorithms, which thus estimate degraded flow fields. \MZY{what is defraded flow field?}


%% compare existing method
%There two 360 image processing pipeline KTN and tangent image.
%The KTN (distort kernel to the ERP) just work on the CNN method.
%Tangent image is less GPU mem, high-resolution image, and flexible for different method on 360 images (both CNN and conventional methods).
%
Previous work has adapted existing CNN-based techniques designed for perspective images to ERP images by transforming convolution kernels to match the projection \cite{CoorsCG2018, SuG2019, TatenNT2018}.
%
To overcome the limited spatial resolution supported by these methods, other work proposed extracting, processing and recombining tangent images \cite{EderSLF2020, LuoZSX2019, ZhangLSC2019, LeeJYJY2019, WangHCLYSCS2018, WangYSCT2020}, which supports both CNN-based and traditional methods.
%
%% our method key idea
%The gnomonic projection is a common tool used in geography mapping a continued curved sphere surface to a plane, meanwhile, map the great circle on the sphere to a straight line on tangent image ~\cite{EderSLF2020}. (More explain why gnomonic projection is good).
%
Moreover, these tangent images are based on \emph{gnomonic} projection, which is a common tool used in geography to map a sphere to a plane, as the great circle on the sphere maps to a straight line in the tangent image~\cite{EderSLF2020}.
%
%Meanwhile, to make the spherical sampled uniformly, the tangent points (gnomonic projection centre point) selected base on the regular polyhedron (cube and regular Icosahedron).
Our approach builds on this insight to estimate accurate 360° optical flow for high-resolution ERP images by sampling tangent images uniformly based on regular polyhedra (cube and icosahedron).
\looseness-1


%% our paper contributions
This paper makes the following technical contributions:
%
\begin{enumerate}[nosep]
\item 
%propose a gnomonic projection-based panoramic optical flow method to solve the error caused by the equirectangular image's large distortion;
We propose a 360° optical flow method based on gnomonic projection to overcome the distortions induced by the  equirectangular projection of 360° images.

\item
%global warping method to align the image, large span motion in 360 images.
We integrate a global warping method to align large rotations between 360° images.

\item
%Propose a face (tangent image) optical flow blending method that can reduce dramatically the discontinuity at the image boundary;
We introduce a tangent image optical flow blending method that can dramatically reduce discontinuities at face boundaries.

\item 
%uniform sampling sphere surface (ERP image).with regular icosahedron base projection point selection method, which makes sample the spherical surface uniformly.
We refine our flow estimates by increasing the sampling density of tangent images from an initial cubemap to the final icosahedron-based uniform sampling of tangent images.
\end{enumerate}
